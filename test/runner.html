<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Mocha tests</title>
    <link rel="stylesheet" href="node_modules/mocha/mocha.css" media="all"/>
</head>
<body>
<div id="mocha"></div>
<script src="node_modules/chai/chai.js"></script>
<script src="node_modules/mocha/mocha.js"></script>
<script src="node_modules/underscore/underscore-min.js"></script>
<script src="node_modules/q/q.js"></script>
<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script>
    mocha.ui('bdd');
    mocha.reporter('html');
    mocha.timeout(30000);
</script>
<script src="util/testHelpers.js"></script>
<script src="util/test-dsl.js"></script>
<script src="page/lukkarimaatti.js"></script>
<script src="spec/lukkarimaattiSpec.js"></script>
<script>
    $(document).ready(function() {
        if (window.location.hash) {
            mocha.options.grep = new RegExp(window.location.href.split('#')[1] + ".*")
        }
        if (window.mochaPhantomJS) {
            mochaPhantomJS.run()
        } else {
            var runner = mocha.run()
            $(document).keyup(function(e) {
                if (e.keyCode == 27) {
                    runner._abort = true
                }
            })
        }
    })
</script>
<iframe id="testframe"></iframe>
</body>
</html>